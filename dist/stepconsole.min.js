"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[362],{67687:(t,e,s)=>{s.d(e,{m:()=>r});var n="cl_students_only",r=function(){};r.get=function(){return"yes"===window.localStorage.getItem(n)},r.set=function(t){window.localStorage.setItem(n,t?"yes":"no")}},2166:(t,e,s)=>{var n=s(34802),r={class:"cl-step-statuses"},o={ref:"container"},i={key:0,class:"tiny"},l={class:"vertical"},a=(0,n._)("th",{class:"cl-fixed-xy"},"User",-1),u=(0,n._)("th",{class:"cl-fixed-xy"},"Name",-1),c=(0,n._)("th",{class:"cl-fixed-y small"},[(0,n._)("div",null,"Looked")],-1),d={class:"cl-fixed-y small"},m={class:"cl-fixed-x"},f={class:"cl-fixed-x cl-step-status-name"},h=["title"],p=["innerHTML"],g=["title"],v=["innerHTML"],y=(0,n._)("td",{class:"cl-fixed-x"}," ",-1),b=(0,n._)("td",{class:"cl-fixed-x cl-step-status-name"}," ",-1),w=(0,n._)("tr",null,null,-1);var x=s(52497);function k(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){l=!0,o=t},f:function(){try{i||null==s.return||s.return()}finally{if(l)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}const S={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{results:null,assignment:null}},methods:{status:function(t,e){var s=this.results[t.member.id];return void 0===s||void 0===s[e]?"":"D"===s[e].status?'<img src="'.concat(this.root,'/vendor/cl/site/img/check16.png">'):""},sectionTotal:function(t,e){var s,n=0,r=k(e);try{for(r.s();!(s=r.n()).done;){var o=s.value,i=this.results[o.member.id];if(void 0!==i&&void 0!==i[t])"D"===i[t].status&&n++}}catch(t){r.e(t)}finally{r.f()}return n},looked:function(t,e){var s=this.results[t.member.id];return void 0!==s&&void 0!==s[e]&&"N"!==s[e].status},looksTotal:function(t,e){var s,n=0,r=k(e);try{for(r.s();!(s=r.n()).done;){var o=s.value,i=this.results[o.member.id];if(void 0!==i&&void 0!==i[t])"N"!==i[t].status&&n++}}catch(t){r.e(t)}finally{r.f()}return n},title:function(t,e){return t.name+"/"+e},freezer:function(){var t=this.$refs.container;t.querySelector("tr.vertical");t.addEventListener("scroll",(function(e){for(var s=t.querySelectorAll(".cl-fixed-x"),n=0;n<s.length;n++){s[n].style.transform="translate("+t.scrollLeft+"px, 0)"}for(var r=t.querySelectorAll(".cl-fixed-y"),o=0;o<r.length;o++){r[o].style.transform="translate(0, "+t.scrollTop+"px)"}for(var i=t.querySelectorAll(".cl-fixed-xy"),l=0;l<i.length;l++){i[l].style.transform="translate("+t.scrollLeft+"px, "+t.scrollTop+"px)"}}))}},components:{membersfetcher:x.Z},created:function(){var t=this.$store.state.user.user.member;t.semester,t.section;this.section=this.$store.getters["course/section"](t.semester,t.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Status")},mounted:function(){var t=this;this.$site.api.get("/api/step/statuses/"+this.assigntag,{}).then((function(e){e.hasError()?t.$site.toast(t,e):(t.results=e.getData("step-statuses").attributes,setTimeout((function(){t.freezer()}),500))})).catch((function(e){console.log(e),t.$site.toast(t,e)}))}};var T=s(43546),D=s.n(T),$=s(19104),C=s.n($),z=s(85797),A=s.n(z),L=s(74706),E=s.n(L),H=s(10807),U=s.n(H),q=s(37002),O=s.n(q),Z=s(76885),I={};I.styleTagTransform=O(),I.setAttributes=E(),I.insert=A().bind(null,"head"),I.domAPI=C(),I.insertStyleElement=U();D()(Z.Z,I);Z.Z&&Z.Z.locals&&Z.Z.locals;var N=s(17944);const M=(0,N.Z)(S,[["render",function(t,e,s,x,k,_){var S=(0,n.up)("router-link"),T=(0,n.up)("membersfetcher");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",o,[(0,n.Wm)(T,{fetching:null===t.results},{default:(0,n.w5)((function(e){return[null!==t.results?((0,n.wg)(),(0,n.iD)("table",i,[(0,n._)("tr",l,[a,u,c,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.assignment.sections,(function(t){return(0,n.wg)(),(0,n.iD)("th",d,[(0,n._)("div",null,(0,n.zw)(t.name),1)])})),256))]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.users,(function(e){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",m,[(0,n.Wm)(S,{to:t.root+"/cl/console/step/status/"+s.assigntag+"/"+e.member.id},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,n.zw)(e.userId),1)]})),_:2},1032,["to"])]),(0,n._)("td",f,(0,n.zw)(e.name),1),(0,n._)("td",{class:(0,n.C_)(_.looked(e,"look")?"":"cl-step-nolook"),title:_.title(e,"Looked")},[(0,n._)("span",{innerHTML:_.status(e,"look")},null,8,p)],10,h),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.assignment.sections,(function(t){return(0,n.wg)(),(0,n.iD)("td",{class:(0,n.C_)(_.looked(e,t.tag)?"":"cl-step-nolook"),title:_.title(e,t.name)},[(0,n._)("span",{innerHTML:_.status(e,t.tag)},null,8,v)],10,g)})),256))])})),256)),y,b,(0,n._)("td",null,(0,n.zw)(_.looksTotal("look",e.users)),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.assignment.sections,(function(t){return(0,n.wg)(),(0,n.iD)("td",null,(0,n.zw)(_.sectionTotal(t.tag,e.users)),1)})),256)),w])])):(0,n.kq)("v-if",!0)]})),_:1},8,["fetching"])],512)])}]]);var K={class:"cl-step-statuses"},Y={key:0,class:"small"},W=(0,n._)("tr",null,[(0,n._)("th",null,"Section"),(0,n._)("th",null,"Looked"),(0,n._)("th",null,"Accessed"),(0,n._)("th",null,"Status")],-1),j=(0,n._)("td",null,"Look",-1),B=(0,n._)("td",null," ",-1),F=["innerHTML"];var R=Site.ConsoleComponentBase;const V={extends:R,props:["memberid","assigntag"],data:function(){return{results:null,assignment:null,stepUser:null}},created:function(){var t=this.$store.state.user.user.member;t.semester,t.section;this.section=this.$store.getters["course/section"](t.semester,t.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Status")},mounted:function(){var t=this;this.addNav2Link("Exit",4,"/cl/console/step/status/"+this.assigntag),this.$site.api.get("/api/step/statuses/"+this.memberid+"/"+this.assigntag,{}).then((function(e){e.hasError()?t.$site.toast(t,e):(t.stepUser=e.getData("user").attributes,t.results=e.getData("step-member-statuses").attributes,t.$root.setTitle(": "+t.stepUser.name+" "+t.assignment.shortname+" Status"))})).catch((function(e){console.log(e),t.$site.toast(t,e)}))},methods:{look:function(t){var e=this.results[t];return void 0===e?"":this.time(e.look)},access:function(t){var e=this.results[t];return void 0===e?"":this.time(e.access)},status:function(t){var e=this.results[t];return void 0===e?"":"D"===e.status?'<img src="'.concat(this.root,'/vendor/cl/site/img/check16.png">'):void 0},time:function(t){return this.$site.TimeFormatter.absoluteUNIX(t,"short")}}},P=(0,N.Z)(V,[["render",function(t,e,s,r,o,i){return(0,n.wg)(),(0,n.iD)("div",K,[null!==t.results?((0,n.wg)(),(0,n.iD)("table",Y,[W,(0,n._)("tr",null,[j,(0,n._)("td",null,(0,n.zw)(i.look("look")),1),(0,n._)("td",null,(0,n.zw)(i.access("look")),1),B]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.assignment.sections,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,(0,n.zw)(t.name),1),(0,n._)("td",null,(0,n.zw)(i.look(t.tag)),1),(0,n._)("td",null,(0,n.zw)(i.access(t.tag)),1),(0,n._)("td",null,[(0,n._)("span",{innerHTML:i.status(t.tag)},null,8,F)])])})),256))])):(0,n.kq)("v-if",!0)])}]]);var X=function(){};X.setup=function(t){t.components.addRoute({route:"/step/status/:assigntag",component:M,props:!0}),t.components.addRoute({route:"/step/status/:assigntag/:memberid",component:P,props:!0}),t.course.assignmentLink("step","status","/step/status/:assigntag")},Site.Console&&!Site.Console.Step&&X.setup(Site.console)},76885:(t,e,s)=>{s.d(e,{Z:()=>l});var n=s(28742),r=s.n(n),o=s(75336),i=s.n(o)()(r());i.push([t.id,"div.cl-step-statuses{padding:.5em;position:relative}div.cl-step-statuses>div{height:800px;overflow:scroll}div.cl-step-statuses table{position:relative;z-index:0;margin:0 auto;padding:0}div.cl-step-statuses tbody{position:relative;z-index:-100}div.cl-step-statuses th.cl-fixed-xy{position:relative;z-index:20}div.cl-step-statuses td.cl-fixed-x{position:relative;z-index:0}div.cl-step-statuses th.cl-fixed-y{position:relative;z-index:10}td.cl-step-nolook{background:#cff}td.cl-step-status-name{white-space:nowrap}",""]);const l=i},52497:(t,e,s)=>{s.d(e,{Z:()=>d});var n=s(34802),r={style:{display:"none"},ref:"students-only"},o={key:0,class:"centerbox comp center"};var i=s(97818),l=s(40722),a=s(67687),u=Site.FetcherVue;const c={props:{fetching:{type:Boolean,default:!1}},data:function(){return{students:!1,studentsElement:null}},methods:{fetchMore:function(){this.$store.dispatch("members/more")},addStudentsOnly:function(){this.students=a.m.get();var t=this.$refs["students-only"];t.parentNode.removeChild(t),document.querySelector("div.cl-section-component span.extra").appendChild(t),t.style.display="inline-block",this.studentsElement=t},studentsOnlyChanged:function(){a.m.set(this.students)}},computed:(0,i.rn)({users:function(t){return this.students?t.members.users.filter((function(t){return t.role()===l.N.STUDENT})):t.members.users},fetcher:function(t){return t.members.fetcher}}),components:{fetcher:u},mounted:function(){var t=this;this.students=a.m.get();var e=this.$store.state.user.user.member,s={semester:e.semester,section:e.section};this.$store.commit("members/query",s),this.$store.dispatch("members/fetch"),setTimeout((function(){t.addStudentsOnly()}),100)},beforeUnmount:function(){this.studentsElement.parentNode.removeChild(this.studentsElement);document.querySelectorAll("div.cl-section-component span.extra")}};const d=(0,s(17944).Z)(c,[["render",function(t,e,s,i,l,a){var u=(0,n.up)("fetcher");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("label",r,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.students=e}),onChange:e[1]||(e[1]=function(){return a.studentsOnlyChanged&&a.studentsOnlyChanged.apply(a,arguments)})},null,544),[[n.e8,t.students]]),(0,n.Uk)(" Students Only")],512),(0,n.Wm)(u,{fetcher:t.fetcher,fetching:s.fetching},{default:(0,n.w5)((function(){return[(0,n.WI)(t.$slots,"default",{users:t.users,students:t.students}),0==t.users.length?((0,n.wg)(),(0,n.iD)("p",o," There are currently no members enrolled in this section.")):(0,n.kq)("v-if",!0)]})),_:3},8,["fetcher","fetching"])])}]])}},t=>{t.O(0,[736,77,828,530,592],(()=>{return e=2166,t(t.s=e);var e}));t.O()}]);